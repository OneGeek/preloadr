function preloadr(e,f,g,d){function h(b,a){k&&f(b);a&&"function"===typeof a&&a();++l>=nbToLoad&&"function"===typeof g&&g(c)}var c=e instanceof Array?[]:{},b=[],a;for(a in e)b.push(a);if(b.length){var l=nbToLoad=0,k="function"===typeof f;for(a=0;a<b.length;a++)nbToLoad++,c[b[a]]=new Image,c[b[a]].onload=c[b[a]].onerror=c[b[a]].onabort=function(a){return function(){h(c[b[a]],function(){return d&&a<b.length-1?function(){var d=b[a+1];c[d].src=e[d]}:null}())}}(a),d||(c[b[a]].src=e[b[a]]);d&&(c[b[0]].src=
e[b[0]])}};